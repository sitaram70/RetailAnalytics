# DATASETS

This app reads small CSV files in `data/raw/`. They can be generated by `src/simulate_retail.py` or replaced with your own exports (keep the schema).

## 1) `products.csv`
| column       | type    | description                         |
|--------------|---------|-------------------------------------|
| product_id   | int     | unique product identifier           |
| name         | string  | display name                        |
| category     | string  | category (e.g., Grocery, Home)      |
| base_price   | float   | list or baseline unit price         |
| image_path   | string  | optional image per product          |

## 2) `stores.csv`
| column     | type    | description                         |
|------------|---------|-------------------------------------|
| store_id   | int     | unique store identifier             |
| city       | string  | city                                |
| region     | string  | region (e.g., North, South, …)      |
| size_index | int     | rough traffic capacity (simulator)  |

## 3) `customers.csv` (optional in UI; used by training)
| column        | type   | description                              |
|---------------|--------|------------------------------------------|
| customer_id   | int    | unique customer                           |
| signup_date   | date   | ISO date string                           |
| pref_category | string | category preference (simulator)           |
| income_bracket| string | L/M/H (simulator)                         |

## 4) `visits.csv`
| column   | type   | description                  |
|----------|--------|------------------------------|
| date     | date   | day of visit (YYYY-MM-DD)    |
| store_id | int    | which store                  |
| visits   | int    | estimated number of visits   |

## 5) `transactions.csv`
One row per **line item** in an order.

| column      | type   | description                                   |
|-------------|--------|-----------------------------------------------|
| order_id    | int    | order identifier (repeats across line items)  |
| date        | date   | order date                                    |
| store_id    | int    | store                                         |
| customer_id | int    | buyer                                         |
| product_id  | int    | product                                       |
| quantity    | int    | units for this product                        |
| unit_price  | float  | actual unit price paid                        |
| discount    | float  | decimal discount (e.g., 0.20 = 20%)           |
| revenue     | float  | `quantity * unit_price`                       |

## 6) `daily_sales.csv` (derived by `preprocess_sales.py`)
| column     | type   | description                                     |
|------------|--------|-------------------------------------------------|
| date       | date   | date                                            |
| revenue    | float  | total revenue that day                          |
| orders     | int    | unique orders (count of distinct order_id)      |
| units      | int    | total quantity                                  |
| visits     | int    | total visits                                    |
| aov        | float  | average order value = revenue / max(1, orders)  |
| conversion | float  | orders / max(1, visits)                         |

### Relationships & constraints
- `transactions.product_id` → `products.product_id`
- `transactions.store_id` → `stores.store_id`
- `visits.store_id` → `stores.store_id`

### Notes / Caveats
- Dates should be day precision (`YYYY-MM-DD`). The code floors timestamps to day.
- If you replace the simulator with real exports, keep column names and types consistent.
